/* ----------------------------------------

	* Ideal Forms 1.02
	* Copyright 2011, Cedric Ruiz
	* Free to use under the GPL license.
	* http://www.spacirdesigns.com

-----------------------------------------*//* ---------------------------------------
	Set min-width
----------------------------------------*/var setMinWidth=function(a){var b=0;a.each(function(){var a=$(this).width();a>b&&(b=a)}).width(b)};(function(a){a.fn.idealforms=function(){this.each(function(){var b,c,d,e,f;b=a(this),b.addClass("idealform"),c=b.find("div").children("label").addClass("main-label"),c.filter(".required").prepend("<span>*</span>"),setMinWidth(c),d=b.find("select");var g=function(b){var c=this;c.build=function(){var c,d,e="",f;c=b.find("option"),d=c.filter(":selected"),c.each(function(){e+='<li><a href="#">'+a(this).text()+"</a></li>"}),f='<ul class="idealselect"><li><a href="#" class="idealselect-title">'+d.text()+"<span><small></small></span></a>"+"<ul>"+e+"</ul>"+"</li>"+"</ul>";return f},c.el=a(c.build()),c.title=c.el.find(".idealselect-title"),c.menu=c.el.find("ul"),c.items=c.menu.find("a"),c.events={open:function(){c.el.addClass("open"),c.menu.show()},close:function(){c.el.removeClass("open"),c.menu.scrollTop(0),c.menu.hide()},change:function(){var d=a(this).parent().index();c.title.text(a(this).text()).append("<span><small></small></span>"),b.find("option").eq(d).attr("selected","selected"),b.trigger("change"),c.events.close()}},c.init=function(){var a=c.el.insertAfter(b),d=a.find("ul a"),e=a.find("ul"),f=function(){e.width(e.outerWidth()),a.width(e.outerWidth())};d.length>10?(f(),e.height(d.outerHeight()*10)):(f(),e.css("overflow-y","hidden")),c.menu.hide(),c.el.find("a").click(function(a){a.preventDefault()}),c.el.on("mouseleave",c.events.close),c.title.on("click",c.events.open),c.menu.on("mouseleave",c.events.close),c.items.on("click",c.events.change)}};d.each(function(){var b=new g(a(this));b.init()}),e=b.find(":radio"),f=b.find(":checkbox"),e.each(function(){a(this).after('<span class="radio"></span>').parents("ul").addClass("idealradio"),a(this).is(":checked")&&a(this).next("span").addClass("checked")}).change(function(){a(this).parents("ul").find("span").removeClass("checked"),a(this).next("span").addClass("checked")}),f.each(function(){a(this).after('<span class="check"></span>').parents("ul").addClass("idealcheck"),a(this).is(":checked")&&a(this).next("span").addClass("checked")}).change(function(){a(this).next("span").toggleClass("checked")})})}})(jQuery)